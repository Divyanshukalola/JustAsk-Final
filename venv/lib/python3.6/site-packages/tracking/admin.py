from django.contrib import admin
from tracking.models import Visitor, VisitorManager, BannedIP, UntrackedUserAgent
from django.db import models
from .actions import export_as_csv_action


class VisitorAdmin(admin.ModelAdmin):
    search_fields = ['username']
    list_display = ("ip_address", 'user', "user_agent", "page_views","last_update","_time_on_site")
    actions = [export_as_csv_action("CSV Export", fields=["session_key","ip_address","user","user_agent","referrer","url","page_views","session_start","last_update"])]



admin.site.register(Visitor, VisitorAdmin)
admin.site.register(UntrackedUserAgent)
